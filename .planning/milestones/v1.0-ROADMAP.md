# Milestone v1.0: Standalone Playlist Generator

**Status:** SHIPPED 2026-02-05
**Phases:** 11-15
**Total Plans:** 10

## Overview

Deliver the full playlist generation experience without Spotify API dependency. Users open the app, enter their run plan, and get a BPM-matched playlist with external play links -- no Spotify integration required.

This milestone builds the core playlist value on top of the validated v0.1 foundation (stride calculator, run planner, structured run types). Five phases deliver auth cleanup, taste profiling, BPM data discovery, playlist generation, and playlist history. The critical dependency is Phase 14 (playlist generation), which requires both the taste profile (Phase 12) and BPM data pipeline (Phase 13) to be complete.

## Phases

### Phase 11: Auth Cleanup
**Goal**: Users launch the app directly to a home hub with clear navigation to all features -- no Spotify login gate
**Depends on**: Nothing (independent of other v1.0 phases)
**Requirements**: AUTH-10, AUTH-11
**Plans**: 1 plan

Plans:
- [x] 11-01-PLAN.md -- Remove Spotify auth UI, build home hub screen with feature navigation

### Phase 12: Taste Profile
**Goal**: Users can describe their running music taste through a questionnaire so the playlist generator knows what music to find
**Depends on**: Nothing (independent of other v1.0 phases)
**Requirements**: TASTE-10, TASTE-11, TASTE-12, TASTE-13
**Plans**: 2 plans

Plans:
- [x] 12-01-PLAN.md -- Domain model, persistence layer, Riverpod providers, and unit tests
- [x] 12-02-PLAN.md -- UI screen (genre picker, artist input, energy selector) and router integration

### Phase 13: BPM Data Pipeline
**Goal**: The app can discover songs at a target BPM from the GetSongBPM API, cache results locally, and handle half/double-time matching
**Depends on**: Nothing (independent of other v1.0 phases)
**Requirements**: BPM-10, BPM-11, BPM-12, BPM-13
**Plans**: 2 plans

Plans:
- [x] 13-01-PLAN.md -- Domain models (BpmSong, BpmMatcher), API client, http dependency, macOS entitlements, and unit tests
- [x] 13-02-PLAN.md -- BPM cache (SharedPreferences), cache-first lookup notifier, error handling, and provider integration

### Phase 14: Playlist Generation
**Goal**: Users trigger playlist generation from their run plan and receive a complete playlist of BPM-matched songs filtered by their taste profile, with external play links
**Depends on**: Phase 12 (taste profile), Phase 13 (BPM data pipeline)
**Requirements**: PLAY-10, PLAY-11, PLAY-12, PLAY-13, PLAY-14
**Plans**: 3 plans

Plans:
- [x] 14-01-PLAN.md -- Domain models (Playlist, PlaylistSong, SongLinkBuilder), playlist generation algorithm, and unit tests
- [x] 14-02-PLAN.md -- url_launcher dependency, Android manifest, PlaylistGenerationNotifier with batch BPM fetching, providers, and unit tests
- [x] 14-03-PLAN.md -- PlaylistScreen UI (generation trigger, segment-grouped display, external links, clipboard copy) and router update

### Phase 15: Playlist History
**Goal**: Users can save generated playlists and come back to view or manage them later
**Depends on**: Phase 14 (playlist generation)
**Requirements**: HIST-01, HIST-02, HIST-03
**Plans**: 2 plans

Plans:
- [x] 15-01-PLAN.md -- Domain model extensions (id, distanceKm, paceMinPerKm), persistence, history provider, auto-save hook, and unit tests
- [x] 15-02-PLAN.md -- History list screen, detail screen, shared widget extraction (SegmentHeader, SongTile), and router update

## Progress

| Phase | Plans Complete | Status | Completed |
|-------|----------------|--------|-----------|
| 11. Auth Cleanup | 1/1 | Complete | 2026-02-05 |
| 12. Taste Profile | 2/2 | Complete | 2026-02-05 |
| 13. BPM Data Pipeline | 2/2 | Complete | 2026-02-05 |
| 14. Playlist Generation | 3/3 | Complete | 2026-02-05 |
| 15. Playlist History | 2/2 | Complete | 2026-02-05 |

---

## Milestone Summary

**Key Decisions:**
- No Spotify integration for v1.0 — Dashboard blocked; questionnaire taste profile is better for running
- GetSongBPM API for BPM data — Spotify audio-features deprecated Nov 2024; free with attribution
- `http` package for HTTP client — Simple GET requests only; Dart team maintained
- SharedPreferences for all persistence — Consistent pattern; sufficient for single-user local app
- Questionnaire taste profile — Running music taste differs from general listening; no auth needed
- Playlist.id nullable for backward compat with old JSON
- Auto-save uses unawaited() — fire-and-forget after UI state is set
- History capped at 50 playlists, oldest trimmed on save
- Shared widgets (SegmentHeader, SongTile) extracted to eliminate duplication

**Issues Resolved:**
- Spotify API deprecation worked around via GetSongBPM alternative
- Code-gen incompatibility with Dart 3.10 avoided by using manual Riverpod providers

**Issues Deferred:**
- Manual UI verification for phases 8, 12, 14, 15
- Pre-existing widget_test.dart failure (expects removed text)
- GetSongBPM API rate limits and coverage validation
- GETSONGBPM_API_KEY must be configured before runtime

**Technical Debt Incurred:**
- Phase 14 missing VERIFICATION.md (documentation gap only)
- 8 info-level static analysis lints (style only, no errors/warnings)

---
_Archived: 2026-02-05 as part of v1.0 milestone completion_
_For current project status, see .planning/ROADMAP.md_
